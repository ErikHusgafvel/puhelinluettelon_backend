{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","Persons","persons","map","Filter","props","onChange","filterChange","PersonForm","onSubmit","handleSubmit","value","newName","handleChange","newNumber","handleNoChange","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","message","className","App","useState","setPersons","setNewName","setNewNumber","showPersons","showNewPersons","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","responsePersons","Notification","event","filter","toLowerCase","includes","target","preventDefault","personObject","findIndex","returnedPerson","concat","setTimeout","catch","error","console","log","window","confirm","find","personM","personF","request","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.00364cab.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ( {person, handleDelete} ) => {\r\n  //console.log(\"Person\", person)\r\n  return (\r\n    <div>\r\n      {person.name} {person.number} <button onClick={() => handleDelete(person)}>delete</button>\r\n     </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person.js'\r\n\r\nconst Persons = ( {persons, handleDelete} ) => {  \r\n  //console.log(\"Persons\" , persons)\r\n  return persons.map(person => (\r\n    <Person key={person.name} person={person} handleDelete={handleDelete} />\r\n    )\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n        filter shown with <input onChange={props.filterChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  return(\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        name: <input \r\n                value={props.newName}\r\n                onChange={props.handleChange}/>\r\n      </div>\r\n      <div>\r\n        number: <input\r\n                value={props.newNumber}\r\n                onChange={props.handleNoChange} />\r\n      </div>\r\n      <div>\r\n        <button \r\n          type=\"submit\"\r\n          >add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n  //console.log(\"Delete\", id)\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  del\r\n}","import React from 'react'\r\n\r\nconst SuccessNotification = ( {message} ) => {\r\n  if(message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className='success'>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ErrorNotification = ( {message} ) => {\r\n  if(message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className='error'>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default {\r\n  SuccessNotification,\r\n  ErrorNotification\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons.js'\r\nimport Filter from './components/Filter.js'\r\nimport PersonForm from './components/PersonForm.js'\r\nimport personService from './services/persons'\r\nimport Notifications from './components/Notification.js'\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ showPersons, showNewPersons ] = useState(persons)\r\n  const [ successMessage, setSuccessMessage] = useState(null)\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(responsePersons => {\r\n        setPersons(responsePersons)\r\n        showNewPersons(responsePersons)\r\n      })\r\n  }, [])\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name : newName ,\r\n      number : newNumber\r\n    }\r\n    const ind = persons.findIndex(person => \r\n      person.name === newName)\r\n    \r\n    if (ind === -1) {\r\n      personService\r\n        .create(personObject)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.concat(returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            showNewPersons(showPersons.concat(returnedPerson))\r\n            setSuccessMessage(\r\n              `Added ${newName}`\r\n            )\r\n            setTimeout(() => {\r\n              setSuccessMessage(null)\r\n            }, 2000)  \r\n          })\r\n          .catch(error => {\r\n            console.log(error.response.data)\r\n            setErrorMessage(error.response.data.error)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n      } else {\r\n        if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n          const person = persons.find(person => person.name === newName)\r\n          personService\r\n            .update(person.id, personObject)\r\n              .then(returnedPerson => {\r\n                setPersons(persons.map(personM => personM.id === person.id ? returnedPerson : personM))\r\n                showNewPersons(showPersons.map(personM => personM.id === person.id ? returnedPerson : personM))\r\n                setSuccessMessage(\r\n                  `Updated ${newName}`\r\n                )\r\n                setTimeout(() => {\r\n                  setSuccessMessage(null)\r\n                }, 2000)\r\n              })\r\n              .catch(error => {\r\n                setErrorMessage(\r\n                  `Information of '${newName}' has already been removed from server`\r\n                )\r\n                setTimeout(() => {\r\n                  setErrorMessage(null)\r\n                }, 5000)\r\n                setPersons(persons.filter(personF => personF.id !== person.id))\r\n                showNewPersons(showPersons.filter(personF => personF.id !== person.id))\r\n              })\r\n        }\r\n          \r\n    }\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNoChange = (event) => {\r\n    //console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const filterChange = (event) => {\r\n    showNewPersons(persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase())))\r\n  }\r\n\r\n  const handleDelete = (person) => {\r\n    //console.log(id)\r\n    if(window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n      .del(person.id)\r\n        .then(request => {\r\n          setPersons(persons.filter(personF => personF.id !== person.id))\r\n          showNewPersons(showPersons.filter(personF => personF.id !== person.id))\r\n          setSuccessMessage(\r\n            `Deleted ${person.name}`\r\n          )\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 2000)\r\n          //console.log(\"Request\", request)\r\n        });\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notifications.ErrorNotification message={errorMessage}/>\r\n      <Notifications.SuccessNotification message={successMessage} />\r\n      <Filter filterChange={filterChange} />\r\n      <h2>add a new</h2>\r\n      <PersonForm \r\n        handleSubmit={handleSubmit}\r\n        handleChange={handleChange}\r\n        handleNoChange={handleNoChange}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={showPersons} handleDelete={handleDelete}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}